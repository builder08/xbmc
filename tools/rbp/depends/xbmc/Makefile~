include ../../Makefile.include
include ../depends.mk

SOURCE=../../../../

ifeq ($(USE_BUILDROOT),1)
	export PATH:=$(PREFIX)/bin:$(BUILDROOT)/output/host/usr/bin:$(SYSROOT)/usr/bin:$(PATH)
endif

#C_INCLUDE_PATH=/opt/vc/include:/opt/vc/include/interface/vcos/pthreads
#CPLUS_INCLUDE_PATH=/opt/vc/include:/opt/vc/include/interface/vcos/pthreads
#LDFLAGS="-L/opt/vc/lib"

CONFIGURE=./configure --prefix=$(PREFIX) --build=$(BUILD) --host=$(HOST) \
	--enable-gles --disable-sdl --disable-x11 --disable-xrandr --disable-openmax \
	--enable-optical-drive --enable-dvdcss --disable-joystick --disable-debug \
	--disable-crystalhd --disable-vtbdecoder --disable-vaapi --disable-vdpau \
	--disable-pulse --disable-projectm --with-platform=raspberry-pi --enable-optimizations \
	--disable-libcec --enable-player=omxplayer

CONFIGURE=./configure --prefix=/usr --build=arm-linux-gnueabihf --host=arm-linux-gnueabihf \
    --localstatedir=/var/lib --with-platform=raspberry-pi \
    --disable-gl \
    --enable-gles \
    --disable-x11 \
    --disable-sdl \
    --disable-openmax \
    --enable-ccache \
    --enable-optimizations \
    --enable-external-libraries \
    --disable-goom \
    --disable-hal \
    --disable-pulse \
    --disable-vaapi \
    --disable-vdpau \
    --disable-xrandr \
    --disable-airplay \
    --disable-airtunes \
    --enable-webserver \
    --disable-alsa \
    --enable-avahi \
    --enable-libbluray \
    --enable-dvdcss \
    --disable-debug \
    --disable-joystick \
    --enable-mid \
    --disable-nfs \
    --disable-profiling \
    --disable-projectm \
    --enable-rsxs \
    --enable-rtmp \
    --disable-vaapi \
    --disable-vtbdecoder \
    --disable-external-ffmpeg \
    --disable-crystalhd \
    --enable-optical-drive \
    --enable-libcec \
    --enable-rpi-cec-api

all: configure

clean:
distclean:
	cd $(SOURCE);

configure:
	cd $(SOURCE); ./bootstrap
	cd $(SOURCE); $(CONFIGURE)
	#cd $(SOURCE); make -j $(JOBS)
	#cd $(SOURCE); make install
