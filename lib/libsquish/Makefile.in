ARCH=@ARCH@

SRCS= \
  alpha.cpp \
  clusterfit.cpp \
  colourblock.cpp \
  colourfit.cpp \
  colourset.cpp \
  maths.cpp \
  rangefit.cpp \
  singlecolourfit.cpp \
  squish.cpp

CXXFLAGS+=-I.
ifeq ($(findstring powerpc,$(ARCH)),powerpc)
  CXXFLAGS+=-DSQUISH_USE_ALTIVEC=1 -maltivec
else ifeq ($(findstring x86,$(ARCH)), x86)
  CXXFLAGS+=-DSQUISH_USE_SSE=2 -msse2
endif

LIB=libsquish.a

include ../../Makefile.include
-include $(patsubst %.cpp,%.P,$(patsubst %.c,%.P,$(SRCS)))
